(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{50:function(e,t,a){e.exports=a(89)},66:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),u=a.n(s),l=a(9),c=a.n(l),o=a(16),i=a(17),m=a(49),d=a(48),h=a(92),g=a(97),E=a(96),_=a(93),p=a(47),f=a(94),y=a(98),v=a(95),b=(a(66),a(43)),k=a.n(b).a.create({baseURL:"https://aspapimanagementservicev2.azure-api.net/aspfunctionappv8",headers:{"Ocp-Apim-Subscription-Key":"dd4b9efb1bef436da2a9c5499764077c"}}),S=a(44),D=a.n(S),C=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"isLoggedIn",value:function(){return!!c.a.getAccessToken()}},{key:"logout",value:function(){c.a.signOut()}},{key:"getToken",value:function(){return c.a.getAccessToken()}},{key:"currentUser",value:function(){return{emails:D()(c.a.getAccessToken()).emails}}}]),e}()),A=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={status_message:"",user_address:"",user_name:"",user_student_id:"",user_year:"",user_program:"",user_faculty:"",all_user_data:[],current_user:C.currentUser().emails[0]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var e=this;k({method:"get",url:"/GetData?email="+this.state.current_user,headers:{Authorization:C.getToken()}}).then((function(t){t.data[0]&&e.setState({user_address:t.data[0].address,user_name:t.data[0].name,user_student_id:t.data[0].student_id,user_year:t.data[0].year,user_program:t.data[0].program,user_faculty:t.data[0].faculty,status_message:"Data about the logged in user recevied successfully ."})})).catch((function(t){e.setState({status_message:"Error getting data about logged in user."})}))}},{key:"saveUserData",value:function(){var e=this;k({method:"put",url:"/SaveData?email="+this.state.current_user,data:{address:this.state.user_address,name:this.state.user_name,student_id:this.state.user_student_id,year:this.state.user_year,program:this.state.user_program,faculty:this.state.user_faculty},headers:{Authorization:C.getToken()}}).then((function(t){e.setState({status_message:"Data about the user saved successfully."})})).catch((function(t){console.log(t),e.setState({status_message:"Error saving data about the user."})}))}},{key:"deleteUserData",value:function(){var e=this;k({method:"delete",url:"/DeleteData?email="+this.state.current_user,headers:{Authorization:C.getToken()}}).then((function(t){e.setState({user_address:"",user_name:"",user_student_id:"",user_year:"",user_program:"",user_faculty:"",status_message:"Data about the user deleted successfully."})})).catch((function(t){e.setState({status_message:"Error deleting data about the user."})}))}},{key:"getAllUserData",value:function(){var e=this;k({method:"get",url:"/GetAllData",headers:{Authorization:C.getToken()}}).then((function(t){e.setState({all_user_data:t.data,status_message:"Data about all users received successfully."})})).catch((function(t){e.setState({status_message:"Error getting data about logged in user."})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(g.a,{bg:"dark",variant:"dark",className:"justify-content-between"},r.a.createElement(g.a.Brand,null,"My Profile"),r.a.createElement(g.a.Text,null,"Signed in as: ",this.state.current_user)),r.a.createElement(E.a,{className:"box"},r.a.createElement(E.a.Group,{as:_.a,controlId:"formPlaintextEmail"},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Email"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{plaintext:!0,readOnly:!0,defaultValue:this.state.current_user}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"address"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your address",value:this.state.user_address||"",onChange:function(t){e.setState({user_address:t.target.value})}}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Name"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your name",value:this.state.user_name||"",onChange:function(t){e.setState({user_name:t.target.value})}}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Student ID"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your student id",value:this.state.user_student_id||"",onChange:function(t){e.setState({user_student_id:t.target.value})}}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Year"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your year",value:this.state.user_year||"",onChange:function(t){e.setState({user_year:t.target.value})}}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Program"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your program",value:this.state.user_program||"",onChange:function(t){e.setState({user_program:t.target.value})}}))),r.a.createElement(E.a.Group,{as:_.a},r.a.createElement(E.a.Label,{column:!0,sm:"2"},"Faculty"),r.a.createElement(p.a,{sm:"10"},r.a.createElement(E.a.Control,{placeholder:"Enter your faculty",value:this.state.user_faculty||"",onChange:function(t){e.setState({user_faculty:t.target.value})}}))),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(f.a,{variant:"primary",className:"buttonGap",onClick:function(){return e.saveUserData()}},"Save Data"),r.a.createElement(f.a,{variant:"danger",className:"buttonGap",onClick:function(){return e.deleteUserData()}},"Delete My Data"),r.a.createElement(f.a,{variant:"info",onClick:function(){return C.logout()}},"Sign Out"))),r.a.createElement(y.a,{variant:"info"},"Status: ",this.state.status_message),r.a.createElement("div",{className:"box boxGap"},r.a.createElement("div",{className:"buttonContainer"},r.a.createElement(f.a,{variant:"success",onClick:function(){return e.getAllUserData()}},"Get All Data")),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Student ID"),r.a.createElement("th",null,"Year"),r.a.createElement("th",null,"Program"),r.a.createElement("th",null,"Faculty"))),r.a.createElement("tbody",null,this.state.all_user_data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.student_id),r.a.createElement("td",null,e.year),r.a.createElement("td",null,e.program),r.a.createElement("td",null,e.faculty))}))))))}}]),a}(n.Component);c.a.initialize({instance:"https://aspb2ctenantv7.b2clogin.com/tfp/",tenant:"aspb2ctenantv7.onmicrosoft.com",signInPolicy:"B2C_1_SignUpSignIn",applicationId:"62473786-71dc-477d-a9b5-cf905930e4d3",cacheLocation:"sessionStorage",scopes:["profile","openid"],redirectUri:"https://aspstorageaccountv2.z9.web.core.windows.net/",validateAuthority:!1}),c.a.run((function(){u.a.render(r.a.createElement(A,null),document.getElementById("root"))}))}},[[50,1,2]]]);
//# sourceMappingURL=main.4b84ad17.chunk.js.map